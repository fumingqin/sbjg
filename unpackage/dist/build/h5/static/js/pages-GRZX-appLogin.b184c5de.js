(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-GRZX-appLogin"],{"0cc9":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAABGCAYAAACgyeb0AAAEh0lEQVRoQ83aV4hddRDH8e/P3kVEURFREXtvoMaSoEZjiYYQTQghsaCCIIIPgq+CD4KCoGBFVFTsYknUxF5Q7Niwosbeo7HryCzDcvY6/91bzjl352XhXtj58D/n/mf+RUzS0GRymdmqkv5x06SAmdnWwI3AgcDLwElDh5nZVsDjwDaVp7dsqDAz2xJ4Ati245VaOTRYoB4Dtkve8yVDgZnZFoCjtk9Q7wFTW4eZ2WaB2jFBfQAcJml5qzAz2zRQOyeoj4BDJX3a6nRhZpsAjwK7JqiPA+V/R6KVEQvUUmD3BPVJPD4fsdFoHGZmGwOO2jNBLQ+Uv1tjolGYmW0UqL0T1GeBej8ri43BzGzDQO2bJP4iUO+WanUjsEA9DOyfJP4qUO+M10DUDjOzDYAlwAFJ4m8C9dZEXU2tMDNbH1gMHFRATZP0xkSoWqcLM1s3UAcnib8FDpf0Wjeo2mBmtg7woE+SSeLvA/VKt6haYIG6D5iWJP4xUC/1ghoYZmZrA/cCRySJfwrUi72iBoKZ2ZqBml5ATZf0fD+ovmFmtgZwD3B0kniFfy7p2X5RfcECdSdwbJL4l0A9PQiqZ1igbgNmJol/DdSTg6J6gpnZ6sCtwKwC6hhJvtqpJbqa+X0hGqjZBdRMSd7a1BYTwgJ1MzAnyfq7P1ZJXrBrjXFhgboBmJdk/TNQXrBrjyIsUNcBCwqoEyV5GWokUpiZrQJcCywsoGZL8jLUWPwPZmb+2TXAKQXUyZLubkwU/3gMLFBXAqcnif8GHOWTa+MxCgvU5cBZSVbfs5or6fbGRZ0jZmYXABcWUPMl+eTaWoyMWLzs3tD5yqYaPlILJd3Umqg6YgHz/mm9DoABZ0i6eiiwGLXzgYsSgONOk+RzWmvR+au8GDgvyf4vcKqk69uSZfPYJcC5hR/BIkm+idt4lCbYS4FzCrgFkryoNxqlkuSfXwacXcDNk+QNY2MxXhH3764AzizgvArc0ZRsorbHv7/Kf5UJ4K8oUXc1geumUZyoqM+R5GvLWmNCWMxx3lp7x1Fqg2ZJeqBOWVewCs7nsfkJwLvZEyT5Tk8t0TWsgvN5bG6S/Y9otR+qQ9YTrIIrLU5+C9wjg+J6hgVuNeAWoLScO06S7+n3HX3BAuf7F44rLYBnSPKTtb6ib1gF513t8Un2lbFl8FQ/soFgFZwvTmYkgJ8D90yvuIFhFZxPskclAG9AfVvquV5wtcACt1bsmZU28o6U9EK3uNpggfNNYt/QG3jrs1ZYBXe/n9Imo/ND7Mv6TYFxo3ZYBefl6ZAk+3eBe3U8WSOwwPmBhO8ETUkAfnTjBxKvl3CNwQLnRziO84seneG4qZLezHCNwgLni2h/rNmh19dx6PV2J65xWAXnhX2/ZHS+jJEbc0zYCqyCWwbsk+A+D9zowWprsMD5UbTj9kpwfj7u79zIUXSrsMD54b3j9ijg/O7Fh63DAud3MBy3W4Lz6w5ThgKr4Px+zy4JbunQYIHzKzV+mrJTB27FUGGB80tIjtuhgls8dFjgNo91q9dW79sW/QdPvJF2/+XAEwAAAABJRU5ErkJggg=="},"3b6d":function(t,e,n){"use strict";(function(t){n("c975"),n("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{textCode:"获取验证码",phoneNumber:"",captchaCode:"",imgHeight:"",urlData:"",background:"",logo:"",state:!0,system:"",platform:"",whetherClick:!0}},onLoad:function(e){var n=this;this.loadImg(),this.urlData=e.urlData,this.load(),uni.getSystemInfo({success:function(e){t.log("系统",e),n.system=e.system,n.platform=e.platform}})},onShow:function(){this.whetherClick=!0},onUnload:function(){uni.hideLoading()},methods:{loadImg:function(){var t=this;t.$ChangeImage.GetImage("南平综合出行","南平背景图").then((function(e){t.background=e})),t.$ChangeImage.GetImage("南平综合出行","nanpinglogo").then((function(e){t.logo=e}))},load:function(){var t=this;uni.getSystemInfo({success:function(e){t.imgHeight=e.windowHeight}})},judgeNum:function(t){var e=/^\d+(\.\d+)?$/,n=/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/;return!(!e.test(t)&&!n.test(t))},inputChange1:function(t){var e=t.detail.value;this.judgeNum(e)||uni.showToast({title:"请输入正确的手机号码",icon:"none"});var n=t.currentTarget.dataset.key;this[n]=t.detail.value},inputChange2:function(t){var e=t.detail.value;this.judgeNum(e)||uni.showToast({title:"请输入正确的验证码",icon:"none"});var n=t.currentTarget.dataset.key;this[n]=t.detail.value},loginClick:function(){uni.showLoading({title:"登录中..."});var t=this,e=(this.phoneNumber,this.captchaCode,this.phoneNumber),n=this.captchaCode;null==e||""==e?uni.showToast({title:"请输入手机号码",icon:"none"}):null==n||""==n?uni.showToast({title:"请输入验证码",icon:"none"}):t.requestInter(e,n)},requestInter:function(e,n){var i=this;uni.getStorage({key:"captchaCode",success:function(a){n==a.data.code&&e==a.data.phone?uni.request({url:i.$GrzxInter.Interface.login.value,data:{phoneNumber:e,systemname:i.$GrzxInter.systemConfig.appName,openidtype:i.$GrzxInter.systemConfig.openidtype},method:i.$GrzxInter.Interface.login.method,success:function(e){t.log(e),uni.removeStorageSync("captchaCode"),uni.setStorageSync("userInfo",e.data.data),uni.hideLoading(),i.successReturn()}}):uni.showToast({title:"验证码错误",icon:"none"})},fail:function(){uni.showToast({title:"验证码已过期，请重新获取",icon:"none"})}})},successReturn:function(){uni.showToast({title:"登录成功!",icon:"success"}),setTimeout((function(){t.log("返回上一页"),uni.navigateBack()}),500)},wxLogin:function(){var e=this;e.whetherClick&&(e.whetherClick=!1,uni.showLoading({title:"授权登录中...",mask:!0}),uni.getProvider({service:"oauth",success:function(n){t.log(n,"授权1"),~n.provider.indexOf("weixin")&&uni.login({provider:"weixin",success:function(n){t.log(n,"授权2"),uni.getUserInfo({provider:"weixin",success:function(t){e.requestInterface(t.userInfo,"wx")},fail:function(e){uni.hideLoading(),t.log(e,"获取用户信息失败"),uni.showModal({title:"获取用户信息失败",content:JSON.stringify(e)})}})},fail:function(e){uni.hideLoading(),t.log(e,"获取失败"),uni.showModal({title:"获取失败",content:JSON.stringify(e)})}})}}))},requestInterface:function(e,n){var i=this;"wx"==n?uni.request({url:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.value,data:{openid:e.openId,systemname:i.$GrzxInter.systemConfig.appName,openidtype:i.$GrzxInter.systemConfig.openidtype},method:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.method,success:function(n){uni.hideLoading(),t.log(n,"提示！！！！"),n.data.status||"获取用户信息失败,不存在该openID用户信息"!=n.data.msg?n.data.status&&(uni.setStorageSync("userInfo",n.data.data),setTimeout((function(){i.successReturn()}),500)):(uni.setStorageSync("appUserInfo",e),uni.navigateTo({url:"/pages/GRZX/bindPhone?type=appWxLogin&&urlData="+i.urlData}))},fail:function(){uni.hideLoading()}}):"qq"==n?uni.request({url:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.value,data:{openid:e.openId,systemname:i.$GrzxInter.systemConfig.appName,openidtype:i.$GrzxInter.systemConfig.openidtype},method:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.method,success:function(t){uni.hideLoading(),t.data.status||"获取用户信息失败,不存在该openID用户信息"!=t.data.msg?t.data.status&&(uni.setStorageSync("userInfo",t.data.data),i.successReturn()):(uni.setStorageSync("appUserInfo",e),uni.navigateTo({url:"/pages/GRZX/bindPhone?type=appQQLogin&&urlData="+i.urlData}))},fail:function(){uni.hideLoading()}}):"apple"==n&&uni.request({url:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.value,data:{openid:e.openId,systemname:i.$GrzxInter.systemConfig.appName,openidtype:i.$GrzxInter.systemConfig.openidtype},method:i.$GrzxInter.Interface.GetUserInfoByOpenId_xcx.method,success:function(t){uni.hideLoading(),t.data.status||"获取用户信息失败,不存在该openID用户信息"!=t.data.msg?t.data.status&&(uni.setStorageSync("userInfo",t.data.data),i.successReturn()):(uni.setStorageSync("appUserInfo",e),uni.navigateTo({url:"/pages/GRZX/bindPhone?type=appleLogin&&urlData="+i.urlData}))},fail:function(){uni.hideLoading()}})},appleLogin:function(){var e=this;uni.showLoading({title:"授权登录中...",mask:!0}),uni.login({provider:"apple",success:function(n){t.log("苹果信息",n),uni.getUserInfo({provider:"apple",success:function(n){t.log("苹果用户信息",n),e.requestInterface(n.userInfo,"apple")},fail:function(){uni.showToast({title:"获取用户信息失败",icon:"none"})}})},fail:function(e){t.log("获取失败",e),uni.showToast({title:"获取失败",icon:"none"})}})},qqLogin:function(){var e=this;e.whetherClick&&(e.whetherClick=!1,uni.showLoading({title:"授权登录中...",mask:!0}),uni.login({provider:"qq",success:function(n){uni.getUserInfo({provider:"qq",success:function(n){t.log(n,"qq用户信息"),e.requestInterface(n.userInfo,"qq")},fail:function(){uni.hideLoading(),uni.showToast({title:"获取用户信息失败",icon:"none"})}})},fail:function(){uni.hideLoading(),uni.showToast({title:"获取失败",icon:"none"})}}))},getCodeClick:function(t){var e=this;this.phoneNumber,this.captchaCode;if(e.judgeNum(e.phoneNumber)){var n=null,i=60;"获取验证码"==e.textCode&&e.state&&(e.state=!1,e.getCode(n,i,e.phoneNumber))}else uni.showToast({title:"请输入正确的手机号码",icon:"none"})},getCode:function(e,n,i){var a=this;e=setInterval((function(){n--,n<=0?(a.textCode="获取验证码",clearInterval(e),n=60,a.state=!0):a.textCode=n+"秒后重发"}),1e3),uni.request({url:a.$GrzxInter.Interface.getLoginCode.value,data:{phoneNumber:i},method:a.$GrzxInter.Interface.getLoginCode.method,success:function(n){t.log(n,"340"),t.log(n.data.data),0==n.data.status?(a.state=!0,a.textCode="获取验证码",clearInterval(e),uni.showToast({title:"今日验证码发送次数已上限!",icon:"none"})):(uni.setStorage({key:"captchaCode",data:{code:n.data.data,phone:i}}),uni.showToast({title:"验证码已发送，仅在5分钟内有效!",icon:"none"}),setTimeout((function(){uni.removeStorage({key:"captchaCode"})}),3e5))}})},returnClick:function(){var e=this;1==e.urlData?e.$GrzxInter.navToHome():2==e.urlData?uni.switchTab({url:"/pages/order/OrderList"}):(t.log("返回上一页"),uni.navigateBack())},isBase64:function(t){if(""===t||""===t.trim())return!1;try{return btoa(atob(t))==t}catch(e){return!1}}}};e.default=i}).call(this,n("5a52")["default"])},"3f47":function(t,e,n){t.exports=n.p+"static/img/wxLogo.418a6ec3.png"},4158:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAATCAYAAACZZ43PAAAB+ElEQVQ4T63Uv4sTQRQH8O8b3YvgTxA06fwB4rUiiNhdkJR2HjYKNjPZQDBBC61GDhsLiyQwM+AZwUrxH1BIbCyuExXEQi1EuOWwsLiwkGT3yRx7kgu5NYLbDDPz3mces2+XMPUYY04QURlAORsJQD9N0x4z98Iw/DaZQs65w2maVoQQZWb2SXt8IBH1hRC98XjMAJay/SUi8mAvA1954DMzf2Tm10KIvpTy63RVk/N2u30yCAIPXWbm8x4YSCn35yXttueciz2wKaU88N8AY8wlIjo4C0ySZLNWq73d3ptZgXPuIREd90HMvMjMC0KI936epumGUupOLjB5snPuFoAjUko9q6K/3sG8wK5vYS7AWrsex/Fio9H4NV1mHtBqtQ4VCoUvZK19AuCdUqr9L4Ax5iYRVXwfXGDmZ1EUndVap5OIMebYaDRaqNfrPybXtdaiVCp9IKKa72s4554C+CmlvD1PQ1lrVwCcUUotbwGdTudoEARrzHxXKfUyD7HWXgHwiJkvVqvVjS0gq+I0M78BcF8ptToLsdZeJ6IHzFxRSn3yMX+ADCkBeAFgfTAY3Gg2m7Ff73a7+4bD4SoznyKiZSnl9+0DdgB+UWu9t1gs3gNQZ+arRDQG8BzA4yiKVrTWwx0/lJxP9RwAfx+UJMm1MAzXZsX+BpGTEhtPCYDEAAAAAElFTkSuQmCC"},4351:function(t,e,n){"use strict";var i=n("45b4"),a=n.n(i);a.a},"43c4":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-2d2a3bc9]{margin:0;padding:0}.content[data-v-2d2a3bc9]{width:100%;position:relative}.backClass[data-v-2d2a3bc9]{position:absolute;bottom:0;width:100%;height:100%}.returnClass[data-v-2d2a3bc9]{width:2.53%;height:%?35?%;top:%?80?%;left:4.13%;position:absolute}.logoClass[data-v-2d2a3bc9]{width:32.4%;height:%?233?%;top:%?200?%;left:33.87%;position:absolute;border-radius:50%}.iconClass1[data-v-2d2a3bc9]{width:%?26?%;height:%?36?%;top:%?58?%;left:2%;position:absolute}.iconClass2[data-v-2d2a3bc9]{width:%?31?%;height:%?38?%;top:%?56?%;left:2%;position:absolute}.inputContent[data-v-2d2a3bc9]{width:90.4%;height:%?800?%;position:absolute;top:%?324?%;left:4.8%;background-color:#fff;border-radius:%?20?%}.inputItem[data-v-2d2a3bc9]{width:87.6%;height:%?140?%;border-bottom:%?1?% solid #eaeaea}.phoneNum[data-v-2d2a3bc9]{position:absolute;top:%?130?%;left:6.19%}.Captcha[data-v-2d2a3bc9]{position:absolute;top:%?272?%;left:6.19%}.inputClass[data-v-2d2a3bc9]{position:absolute;left:12%;top:%?51?%;font-size:%?32?%;height:%?50?%;line-height:%?50?%;color:#999}.btnLogin[data-v-2d2a3bc9]{position:absolute;top:%?421?%;width:100%;height:%?180?%}.wxClass[data-v-2d2a3bc9]{position:absolute;left:33%;top:%?1015?%;width:%?67?%;height:%?54?%}.wxClass1[data-v-2d2a3bc9]{position:absolute;left:44%;top:%?1022?%;width:%?67?%;height:%?54?%}.qqClass[data-v-2d2a3bc9]{position:absolute;left:60%;top:%?1015?%;width:%?47?%;height:%?50?%}.appleClass[data-v-2d2a3bc9]{position:absolute;left:60%;top:%?1015?%;width:%?50?%;height:%?54?%}.loginMode[data-v-2d2a3bc9]{position:absolute;top:%?945?%;width:100%;text-align:center;font-size:%?30?%;color:#999}.leftLine[data-v-2d2a3bc9]{border-top:%?1?% solid #eaeaea;height:%?1?%;width:22.48%;position:absolute;top:%?965?%;left:12.73%}.rightLine[data-v-2d2a3bc9]{border-top:%?1?% solid #eaeaea;height:%?1?%;width:22.48%;position:absolute;top:%?965?%;left:64.78%}.getCode[data-v-2d2a3bc9]{position:absolute;top:%?308?%;left:64%;width:30%;font-size:%?28?%;border-radius:%?12?%;text-align:center;line-height:%?64?%;height:%?64?%}.style[data-v-2d2a3bc9]{border:1px solid #ff971e;color:#ff971e}.fontStyle[data-v-2d2a3bc9]{position:absolute;top:%?480?%;left:5%;text-align:center;font-size:%?36?%;color:#fff;width:90%;padding:%?25?% 0;border-radius:%?20?%;background:-webkit-linear-gradient(36deg,#ff8008,#ffc837);background:linear-gradient(54deg,#ff8008,#ffc837)}',""]),t.exports=e},"45b4":function(t,e,n){var i=n("43c4");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("b5070f2e",i,!0,{sourceMap:!1,shadowMode:!1})},"4f94":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAASCAYAAACAa1QyAAAA7UlEQVQ4T+2SvUrFQBCFZ4YEi5vOKoWNgjaWt7cREd/AMkjYJVa+QbDNA+xOCpE8gC+hjWBl4w+ob6CVkEDIkS0uCP6s7QVPO/MxP+dw27Y7AByAFYqImd/HcTxiVb0TkYOyLF9ikHNuW0TO2Xv/aK3djAGLuvf+KUx6MMZs/UPL94iu62Z938/TNL0uiqL/7OGP5qrqDRExEb0ZY3ajUF3Xkuf5K4BTZj4xxqxFodCgqnsADqdpOquq6vILFHa01m78NXuq+hxSfgHgFsDVb2CSJARgH8AqN00zy7LsWETWAYTjvxUzg4juh2FwH2ZArMyPfTK/AAAAAElFTkSuQmCC"},"743c":function(t,e,n){"use strict";n.r(e);var i=n("3b6d"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},"93d9":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content",style:{height:t.imgHeight+"px"}},[i("v-uni-image",{staticClass:"backClass",attrs:{src:t.background}}),i("v-uni-image",{staticClass:"returnClass",attrs:{src:n("0cc9")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.returnClick.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"inputContent"},[i("v-uni-view",{staticClass:"inputItem phoneNum"},[i("v-uni-image",{staticClass:"iconClass1",attrs:{src:n("4f94")}}),i("v-uni-input",{staticClass:"inputClass",attrs:{type:"number",placeholder:"手机号码",maxlength:"11","data-key":"phoneNumber"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange1.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"inputItem Captcha"},[i("v-uni-image",{staticClass:"iconClass2",attrs:{src:n("4158")}}),i("v-uni-input",{staticClass:"inputClass",attrs:{type:"number",placeholder:"输入验证码",maxlength:"4","data-key":"captchaCode"},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.inputChange2.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"getCode style",attrs:{id:"Code"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getCodeClick.apply(void 0,arguments)}}},[t._v(t._s(t.textCode))]),i("v-uni-text",{staticClass:"fontStyle",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loginClick.apply(void 0,arguments)}}},[t._v("确定")])],1),i("v-uni-image",{staticClass:"logoClass",attrs:{src:t.logo}}),i("v-uni-view",{staticClass:"loginMode"},[t._v("第三方登录")]),i("v-uni-view",{staticClass:"leftLine"}),i("v-uni-view",{staticClass:"rightLine"}),i("v-uni-image",{class:"ios"==t.platform?"wxClass":"wxClass1",attrs:{src:n("3f47")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.wxLogin.apply(void 0,arguments)}}})],1)},o=[]},de97:function(t,e,n){"use strict";n.r(e);var i=n("93d9"),a=n("743c");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("4351");var s,u=n("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,"2d2a3bc9",null,!1,i["a"],s);e["default"]=r.exports}}]);